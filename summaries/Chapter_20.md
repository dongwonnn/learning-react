# Chapter 20 : 서버 사이드 렌더링 ( SSR )

# 🎯 서버 사이드 렌더링의 이해 : SSR

## 1. SSR이란?

- UI를 서버에서 렌더링하는 것
  - 사용자가 웹 서비스에 방문했을 때 서버 쪽에서 초기 렌더링을 대신해 주고, 사용자가 html을 전달받을 때 그 내부에 렌더링된 결과물이 보인다.
- 기본적으로는 클라이언트 사이드 렌더링을 한다.

## 2. SSR의 장점

- 검색 엔진 최적화
  - 검색 엔진 크롤러 봇같은 것들은 자바스크립트가 실행되지 않는 환경에서는 페이지가 제대로 나타나지 않는다.
  - SSR을 이용하면 검색 엔진이 페이지의 내용을 제대로 수집할 수 있다.
  - 구글 검색 엔진은 다른 검색 엔진과는 달리 검색 엔진에서 자바스크립트를 실행하는 기능이 탑재되어 있지만 모든 페이지에서 자바스크립트를 실행하진 않는다.
- 초기 렌더링 선능 개선
  - 자바스크립트 파일 다운로드가 완료되지 않는 시점에서도 html상에 사용자가 볼 수 있는 컨텐트가 있기 때문에 대기 시간이 최소화되고 사용자 경험도 향상된다.
  - CSR은 자바스크립트가 로딩되고 실행될 때까지 비어 있는 페이지를 보며 대기해야 한다.

## 3. SSR의 단점

- 서버문제
  - 브라우저가 할 일을 서버가 하기 때문에 서버 리소스가 사용된다.
  - 그로 인해 동시에 여러 사람이 이용한다면 서버 과부화가 발생할 수 있다.
  - 캐싱과 로드 밸런싱을 통해 성능을 최적화해 주어야 한다.
- 프로젝트 구조 복잡
- 데이터 미리 불러오기, 코드 스플리팅과의 호환 고려 해야 한다.
  - SSR과 코드 스플리팅 충돌 : 별도의 호환 작업 없이 두 기술을 함께 적용하면 페이지 깜빡임 발생
    1. 자바스크립트가 실행되면서 아직 불러오지 않은 컴포넌트를 null로 렌더링
    2. 페이지에서 코드 스플리팅이 일어나면서 스플리팅된 컴포넌트들이 사라짐
    3. 스플리팅된 컴포넌트 들이 로딩된 이후 제대로 나타남
  - 해결하기 위해 라우트 경로마다 코드 스플리팅 파일 중에서 필요한 모든 파일을 브라우저에서 렌더링하기 전에 미리 불러와야 한다.
    - Loadable Components 라이브러리를 이용해 SSR 후 필요한 파일 경로를 추출하여 스크립트/스타일 태그를 삽입
